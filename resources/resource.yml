resources:
  jobs:
    daily_refresh_generator: #job1
      name: daily_refresh_generator
      schedule:
          quartz_cron_expression: '0 54 12 * * ?'
          timezone_id: Asia/Kolkata
          pause_status: UNPAUSED
      email_notifications:
          on_success:
          -  anil.kumar@axtria.com
          on_failure:
          -  anil.kumar@axtria.com
      tasks:
        - task_key: run_negative_gen 
          notebook_task:
            notebook_path: /Workspace/src/negative_review_generator
            source: WORKSPACE
        - task_key: top_sales  #rtask2 
          depends_on:
           - task_key: run_negative_gen
          notebook_task:
            notebook_path: /Workspace/src/top_sales
            source: WORKSPACE
        - task_key : dashboard_run
          depends_on:
           - task_key: top_sales
          dashboard_task:
            subscription:
              subscribers:
                  - destination_id: 17ad9148-dd5d-4833-a58a-88e1e5026354
            warehouse_id: b4b78d448da57e18
            dashboard_id: 01f09d05148015ce8700963f8fe87eca
        - task_key : dashboard_run_sales
          depends_on:
           - task_key: top_sales
          dashboard_task:
            subscription:
              subscribers:
                  - destination_id: 17ad9148-dd5d-4833-a58a-88e1e5026354
            warehouse_id: b4b78d448da57e18
            dashboard_id: 01f09e8995a21f31b8e0153edbb9a944
      queue:
        enabled: true
      performance_target: PERFORMANCE_OPTIMIZE
    daily_refresh_generator_trigger: #job2
      name: daily_refresh_generator_trigger
      trigger:
          pause_status: UNPAUSED
          file_arrival: 
              url: /Volumes/sales_review/sales_table/trigger/
      email_notifications:
          on_success:
          -  anil.kumar@axtria.com
          on_failure:
          -  anil.kumar@axtria.com
      tasks:
        - task_key: run_negative_gen 
          notebook_task:
            notebook_path: /Workspace/src/negative_review_generator
            source: WORKSPACE
        - task_key: top_sales  
          depends_on:
           - task_key: run_negative_gen
          notebook_task:
            notebook_path: /Workspace/src/top_sales
            source: WORKSPACE
      queue:
        enabled: true
      performance_target: PERFORMANCE_OPTIMIZE
    streaming_pipeline_process: #job3
      name: daily_refresh_generator_trigger
      email_notifications:
          on_success:
          -  anil.kumar@axtria.com
          on_failure:
          -  anil.kumar@axtria.com
      tasks:
        - task_key: run_negative_gen 
          notebook_task:
            notebook_path: /Workspace/src/streaming_example
            source: WORKSPACE
      queue:
        enabled: true
      performance_target: PERFORMANCE_OPTIMIZE
      
      

